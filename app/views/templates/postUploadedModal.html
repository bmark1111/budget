<script type="text/ng-template" id="postUploadedModal.html">
	<div class="modal-header">
		<h3 class="modal-title">{{title}}</h3>
	</div>
	<div class="modal-body">
		<div class="row">
			<div class="col-md-6" style="width:26%;">
				<label>Bank Account:</label> {{uploaded.bank_account.bank.name}} {{uploaded.bank_account.name}}
			</div>
			<div class="col-md-6" style="width:24%;">
				<label>Date:</label> {{uploaded.transaction_date|date:'EEE MMM dd, yyyy'}}
			</div>
			<div class="col-md-6" style="width:50%;">
				<label>Description:</label> {{uploaded.description}}
			</div>
		</div>
		<div class="row">
			<div class="col-sm-2">
				<label>Type:</label> {{uploaded.type}}
			</div>
			<div class="col-sm-2" ng-if="uploaded.type == 'CHECK'">
				<label>Check Num:</label> {{uploaded.check_num}}
			</div>
			<div class="col-md-6">
				<label>Amount:</label> {{uploaded.amount|currency}}
			</div>
		</div>
		<div class="row">
			<div class="col-sm-2" style="width:22%;">
				<label for="category">Category</label>
				<div class="form-group" ng-class="{'has-error':validation.category_id}">
					<select class="form-control" name="category" ng-model="uploaded.category_id" ng-options="category.id as category.name for category in categories"></select>
					<span class="help-block" ng-show="validation.category_id">{{validation.category_id}}</span>
				</div>
			</div>
			<div class="col-md-2" style="width:46%;">
				<div class="form-group">
					<label for="notes">Notes</label>
					<input type="text" name="notes" class="form-control" ng-model="uploaded.notes" />
				</div>
			</div>
		</div>
		<div class="table-responsive" ng-if="transactions[0]">
			<div>
				<h3>Possible Duplicate Transaction</h3>
				<span>Select Transaction to overwrite with uploaded transaction</span>
			</div>
			<table style="width:100%;">
				<thead>
					<tr>
						<th><span class="pull-left">Date</span></th>
						<th><span class="pull-left">Type</span></th>
						<th><span class="pull-left">Description</span></th>
						<th><span class="pull-left">Amount</span></th>
						<th><span class="pull-left">Category</span></th>
						<th><span class="pull-left">Notes</span></th>
					</tr>
				</thead>
				<tbody>
					<tr ng-repeat="idx in transactions_seq" ng-click="setSelected(transactions[idx].id)" ng-class="{selected: transactions[idx].id === idSelectedTransaction}">
						<td class="col-md-6" style="width:18%;">
							<span class="pull-left">{{transactions[idx].transaction_date|date:'EEE MMM dd, yyyy'}}</span>
						</td>
						<td class="col-sm-2" style="width:5%">
							<span class="pull-left">{{transactions[idx].type}}</span>
						</td>
						<td class="col-sm-2" style="width:40%">
							<span class="pull-left">{{transactions[idx].description}}</span>
						</td>
						<td class="col-sm-2" style="width:5%">
							<span class="pull-right">{{transactions[idx].amount|currency}}</span>
						</td>
						<td class="col-sm-2" style="width:5%">
							<span class="pull-left">{{transactions[idx].category.name}}</span>
						</td>
						<td class="col-sm-2" style="width:27%">
							<span class="pull-left">{{transactions[idx].notes}}</span>
						</td>
					</tr>
				</tbody>
			</table>
		</div>
	</div>
	<div class="modal-footer">
		<button class="btn btn-primary" ng-click="deleteUploaded()">Discard</button>
		<button class="btn btn-primary" ng-click="postUploaded()">{{post}}</button>
		<button class="btn btn-warning" ng-click="cancel()">Cancel</button>
	</div>
</script>
